<!-- @let elapsedTime = (engineService.elapsedTime$|async ) ?? 0; -->

<router-outlet></router-outlet>

<scene>
  <directionalLight [position]="[44, 44, 44]" [intensity]="2" />
  <ambientLight [intensity]="0.5" />
  <pointLight />

  <orbitControls></orbitControls>

  <gridHelper />

  <mesh>
    <sphereGeometry [params]="{ radius: 1 }" />
    <meshStandardMaterial [params]="{ color: 'red' }" />
  </mesh>

  <skinnedMesh [debug]="true"> </skinnedMesh>

  <!-- <sky-sphere [dayNightCycle]="(elapsedTime / 10 % 1) "/> -->

  <!-- <sky
    [scale]="2000"
    [turbidity]="10"
    [rayleigh]="3"
    [mieCoefficient]="0.005"
    [mieDirectionalG]="0.7"
    [elevation]="(elapsedTime / 10 % 1) * 180"
     
    [exposure]="0.5">
</sky>

  -->
  <skyBox />
  <ocean />

  <!-- Post-processing: Bloom, Glitch, SMAA, Output (order matters; outputPass last) -->
  <effect-composer>
    <unrealBloomPass [strength]="0.5" [radius]="0.4" [threshold]="0.85" />
    <!-- <glitchPass [goWild]="glitchWild()" /> -->
    <!-- <smaaPass /> -->
    <outputPass />
  </effect-composer>
</scene>
